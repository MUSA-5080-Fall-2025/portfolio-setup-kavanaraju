"0","# Your spatial analysis"
"0","bus_buffer_5min <- st_buffer(philly_bus_stops, dist = 0.20 * 5280)"
"0","bus_buffer_10min <- st_buffer(philly_bus_stops, dist = 0.40 * 5280)"
"0","bus_buffer_15min <- st_buffer(philly_bus_stops, dist = 0.60 * 5280)"
"0",""
"0","# Doing this to consolidate buffers for easier analysis"
"0","bus_zone_5min <- st_union(bus_buffer_5min)"
"0","bus_zone_10min <- st_union(bus_buffer_10min)"
"0","bus_zone_15min <- st_union(bus_buffer_15min)"
"0",""
"0","polling_no_transit_5min <- polling_places %>%"
"0","  st_difference(bus_zone_5min)"
"2","Warning:"
"2"," attribute variables are assumed to be spatially constant throughout all geometries
"
"0","polling_no_transit_10min <- polling_places %>%"
"0","  st_difference(bus_zone_10min)"
"2","Warning:"
"2"," attribute variables are assumed to be spatially constant throughout all geometries
"
"0","polling_no_transit_15min <- polling_places %>%"
"0","  st_difference(bus_zone_15min)"
"2","Warning:"
"2"," attribute variables are assumed to be spatially constant throughout all geometries
"
"0","# Here, I'm finding the distance to the nearest bus stop, and setting some boolean variables for my time categories."
"0","polling_with_distance <- polling_places %>%"
"0","  mutate("
"0","    dist_to_bus = st_distance(., philly_bus_stops) %>% "
"0","      apply(1, min) %>% "
"0","      as.numeric() / 5280,"
"0","    beyond_5min = dist_to_bus > 0.20,"
"0","    beyond_10min = dist_to_bus > 0.40,"
"0","    beyond_15min = dist_to_bus > 0.60"
"0","  )"
"0",""
"0","polling_with_distance %>%"
"0","  st_drop_geometry() %>%"
"0","  summarise("
"0","    total_polling = n(),"
"0","    beyond_5min = sum(beyond_5min, na.rm = TRUE),"
"0","    beyond_10min = sum(beyond_10min, na.rm = TRUE),"
"0","    beyond_15min = sum(beyond_15min, na.rm = TRUE),"
"0","    pct_beyond_5min = round((beyond_5min / total_polling) * 100, 1),"
"0","    pct_beyond_10min = round((beyond_10min / total_polling) * 100, 1),"
"0","    pct_beyond_15min = round((beyond_15min / total_polling) * 100, 1)"
"0","  )"
